parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ygXl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(){}}();exports.default=e;
},{}],"N6d1":[function(require,module,exports) {
"use strict";function e(){var e=Math.round(16777215*Math.random());return"rgb("+(e>>16)+", "+(e>>8&255)+", "+(255&e)+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRandomRgb=void 0,exports.getRandomRgb=e;
},{}],"a3wE":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])})(i,o)};return function(i,o){function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dot=void 0;var o=i(require("./CanvasItem")),e=require("./utils"),r=function(i){function o(t,o,r,s,n){var c=i.call(this)||this;return c.ctx=t,c.pos={x:o,y:r},c.radius=s,c.color=n||e.getRandomRgb(),c.path=new Path2D,c}return t(o,i),o.prototype.isPointInPath=function(t,i){return this.ctx.isPointInPath(this.path,t,i)},o.prototype.setText=function(t){this.text=t},o.prototype.draw=function(){this.ctx.beginPath(),this.ctx.fillStyle=this.color||e.getRandomRgb(),this.path.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),this.ctx.fill(this.path),this.ctx.stroke(),this.ctx.closePath(),this.text&&(this.ctx.font="12px arial",this.ctx.textAlign="center",this.ctx.fillStyle="black",this.ctx.fillText(this.text,this.pos.x,this.pos.y),this.ctx.font="8px arial")},o}(o.default);exports.Dot=r;
},{"./CanvasItem":"ygXl","./utils":"N6d1"}],"bUwh":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])})(o,i)};return function(o,i){function e(){this.constructor=o}t(o,i),o.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Path=void 0;var i=o(require("./CanvasItem")),e=require("./utils"),n=function(o){function i(t,i,n,r,s){var h=o.call(this)||this;return h.ctx=t,h.points=i,h.fillColor=n||e.getRandomRgb(),h.strokeColor=r||e.getRandomRgb(),h.strokeWidth=s||1,h.path=new Path2D,h}return t(i,o),i.prototype.isPointInPath=function(t,o){return this.ctx.isPointInPath(this.path,t,o)},i.prototype.isPointInStroke=function(t,o){return this.ctx.isPointInStroke(this.path,t,o)},i.prototype.draw=function(){this.path=new Path2D;var t=this.points[0];this.path.moveTo(t[0],t[1]);for(var o=1;o<this.points.length;o++)this.path.lineTo(this.points[o][0],this.points[o][1]),o===this.points.length-1&&this.path.lineTo(t[0],t[1]);this.ctx.beginPath(),this.ctx.strokeStyle=this.strokeColor||e.getRandomRgb(),this.ctx.lineWidth=this.strokeWidth||1,this.ctx.fillStyle=this.fillColor||e.getRandomRgb(),this.ctx.fill(this.path),this.ctx.stroke(this.path),this.ctx.closePath()},i}(i.default);exports.Path=n;
},{"./CanvasItem":"ygXl","./utils":"N6d1"}],"nkB1":[function(require,module,exports) {
"use strict";var t=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./lib/Dot"),n=require("./lib/Path");function r(){var r=document.getElementById("c"),o=document.getElementById("panel"),i=document.getElementById("reset"),a=document.getElementById("random"),c=document.getElementById("cur_pos"),l=document.getElementById("angles"),s=document.getElementById("dot");i.addEventListener("click",M),a.addEventListener("click",function(){M();var r=Math.round(Math.random()+4);function o(){return[Math.round(100+Math.random()*(u-200)),Math.round(100+Math.random()*(f-200))]}h=new n.Path(d,[],"yellow","black");for(var i=0;i<r;i++){var a=o();if(h.points.length>2)for(;h.isPointInPath(a[0],a[1]);)a=o();h.points.push(a),d.clearRect(0,0,u,f),h.points.length>2&&h.draw()}g=t(h.points.map(function(t){return new e.Dot(d,t[0],t[1],10,"#ccc")})),p=t(h.points),g.forEach(function(t,e){t.setText(String(e+1)),t.draw()}),h.draw()});var h,d=r.getContext("2d"),u=r.width=innerWidth,f=r.height=innerHeight-o.offsetHeight,g=(r.width,r.height,[]),p=[];function v(t,e,n,r){return[n-t,r-e]}function m(t,e,n,r){var o=v(t[0],t[1],e[0],e[1]),i=v(n[0],n[1],r[0],r[1]),a=(o[0]*i[0]+o[1]*i[1])/(Math.sqrt(o[0]*o[0]+o[1]*o[1])*Math.sqrt(i[0]*i[0]+i[1]*i[1])),c=1;return o[0]*i[1]-o[1]*i[0]>0&&(c=-1),180*Math.acos(a)/Math.PI*c}function M(){g=[],p=[],h=null,d.clearRect(0,0,u,f)}r.addEventListener("mousemove",function(t){s.style.top=t.clientY-5+"px",s.style.left=t.clientX-5+"px";var e=[t.clientX,t.clientY-o.offsetHeight],n=e[0],r=e[1];if(d.clearRect(u-80,f-40,u,f),d.textAlign="start",d.fillText("X: "+n+", Y: "+r,u-80,f-20),d.closePath(),h&&h.path&&h.points.length>2){var i=[n,r],a=0,g=!1;console.clear(),l.innerHTML="";for(var p=0;p<h.points.length;p++){var v=m(i,h.points[p],i,p===h.points.length-1?h.points[0]:h.points[p+1]);v>178&&v<182&&(g=!0),a+=v,l.innerHTML+=p+1+") "+Math.round(100*v)/100+"° &nbsp;"}g?(c.innerText="Точка на ребре (~"+Math.round(1e4*a)/1e4+"°)",c.style.color="orange"):Math.round(Math.abs(a))>=360?(c.innerText="Точка принадлежит полигону (~"+Math.round(1e4*a)/1e4+"°)",c.style.color="green"):(c.innerText="Точка вне полигона ("+Math.round(1e4*a)/1e4+"°)",c.style.color="red")}}),window.onresize=function(){u=r.width=innerWidth,f=r.height=innerHeight-o.offsetTop,u/2,f/2,g.forEach(function(t){t.draw()}),h.draw()},r.addEventListener("click",function(t){var r=[t.clientX,t.clientY-o.offsetHeight],i=r[0],a=r[1];p.length>2&&(h.isPointInPath(i,a)||h.isPointInStroke(i,a))||(d.clearRect(0,0,u,f),p.push([i,a]),2===p.length?h=new n.Path(d,p,"yellow","black"):p.length>=3&&(h.points=p,h.draw()),g.push(new e.Dot(d,i,a,10,"#ccc")),g.forEach(function(t,e){t.setText(String(e+1)),t.draw()}))}),r.addEventListener("contextmenu",function(t){t.preventDefault();for(var e=[t.clientX,t.clientY-o.offsetHeight],n=[e[0],e[1]],r=0,i=0;i<h.points.length;i++){r+=m(n,h.points[i],n,i===h.points.length-1?h.points[0]:h.points[i+1])}return console.log(r),!1},!1),function t(){requestAnimationFrame(t)}()}r();
},{"./lib/Dot":"a3wE","./lib/Path":"bUwh"}]},{},["nkB1"], null)
//# sourceMappingURL=%27.%27/src.f369f2f6.js.map