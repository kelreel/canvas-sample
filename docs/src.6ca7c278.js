parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ygXl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(){}}();exports.default=e;
},{}],"N6d1":[function(require,module,exports) {
"use strict";function r(){var r=Math.round(16777215*Math.random());return"rgb("+(r>>16)+", "+(r>>8&255)+", "+(255&r)+")"}function t(r,t,e,o,n,a,s,h){var g,i,p;return 0!==(g=(e-r)*(h-a)-(s-n)*(o-t))&&(i=((t-o)*(s-r)+(e-r)*(h-t))/g,0<(p=((h-a)*(s-r)+(n-s)*(h-t))/g)&&p<1&&0<i&&i<1)}function e(r,e,o,n,a){var s=function(r){var t=2*Math.random()*Math.PI,n=e+Math.random()*(o-e),a=n*Math.cos(t),s=n*Math.sin(t);return[r[0]+a,r[1]+s]},h=[r];h.push(s(h[h.length-1])),h.push(s(h[h.length-1]));for(var g=3;g<n;g++){var i=0,p=!0;if(n>=a)throw"polygon generates loop error";for(;i<a&&!0===p;){var u=s(h[h.length-1]),f=!1;if(i++,g!==n-1)for(var l=0;l<h.length-1;l++)if(t(h[l][0],h[l][1],h[l+1][0],h[l+1][1],h[h.length-1][0],h[h.length-1][1],u[0],u[1])){f=!0;break}if(g===n-1){for(l=0;l<h.length-1;l++)if(t(h[l][0],h[l][1],h[l+1][0],h[l+1][1],h[0][0],h[0][1],u[0],u[1])||t(h[l][0],h[l][1],h[l+1][0],h[l+1][1],h[h.length-1][0],h[h.length-1][1],u[0],u[1])){f=!0;break}f&&n++}if(!1===f){p=!1,h.push(u);break}}}return h}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arpoly=exports.intersects=exports.getVector=exports.getRandomRgb=void 0,exports.getRandomRgb=r,exports.getVector=function(r,t,e,o){return[e-r,o-t]},exports.intersects=t,exports.arpoly=e;
},{}],"a3wE":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])})(i,o)};return function(i,o){function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dot=void 0;var o=i(require("./CanvasItem")),e=require("./utils"),r=function(i){function o(t,o,r,s,n){var c=i.call(this)||this;return c.ctx=t,c.pos={x:o,y:r},c.radius=s,c.color=n||e.getRandomRgb(),c.path=new Path2D,c}return t(o,i),o.prototype.isPointInPath=function(t,i){return this.ctx.isPointInPath(this.path,t,i)},o.prototype.setText=function(t){this.text=t},o.prototype.draw=function(){this.ctx.beginPath(),this.ctx.fillStyle=this.color||e.getRandomRgb(),this.path.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),this.ctx.fill(this.path),this.ctx.stroke(),this.ctx.closePath(),this.text&&(this.ctx.font="12px arial",this.ctx.textAlign="center",this.ctx.fillStyle="black",this.ctx.fillText(this.text,this.pos.x,this.pos.y),this.ctx.font="8px arial")},o}(o.default);exports.Dot=r;
},{"./CanvasItem":"ygXl","./utils":"N6d1"}],"fy5Y":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])})(o,i)};return function(o,i){function e(){this.constructor=o}t(o,i),o.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Line=void 0;var i=o(require("./CanvasItem")),e=require("./utils"),n=function(o){function i(t,i,n,r){var s=o.call(this)||this;return s.ctx=t,s.points=i,s.color=n||e.getRandomRgb(),s.width=r||1,s.path=new Path2D,s}return t(i,o),i.prototype.isPointInPath=function(t,o){return this.ctx.isPointInStroke(this.path,t,o)},i.prototype.draw=function(){var t=this.points[0];this.path.moveTo(t[0],t[1]);for(var o=1;o<this.points.length;o++)this.path.lineTo(this.points[o][0],this.points[o][1]);this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.width||1,this.ctx.stroke(this.path),this.ctx.closePath()},i}(i.default);exports.Line=n;
},{"./CanvasItem":"ygXl","./utils":"N6d1"}],"bUwh":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])})(o,i)};return function(o,i){function e(){this.constructor=o}t(o,i),o.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Path=void 0;var i=o(require("./CanvasItem")),e=require("./utils"),n=function(o){function i(t,i,n,r,s){var h=o.call(this)||this;return h.ctx=t,h.points=i,h.fillColor=n||e.getRandomRgb(),h.strokeColor=r||e.getRandomRgb(),h.strokeWidth=s||1,h.path=new Path2D,h}return t(i,o),i.prototype.isPointInPath=function(t,o){return this.ctx.isPointInPath(this.path,t,o)},i.prototype.isPointInStroke=function(t,o){return this.ctx.isPointInStroke(this.path,t,o)},i.prototype.draw=function(){this.path=new Path2D;var t=this.points[0];this.path.moveTo(t[0],t[1]);for(var o=1;o<this.points.length;o++)this.path.lineTo(this.points[o][0],this.points[o][1]),o===this.points.length-1&&this.path.lineTo(t[0],t[1]);this.ctx.beginPath(),this.ctx.strokeStyle=this.strokeColor||e.getRandomRgb(),this.ctx.lineWidth=this.strokeWidth||1,this.ctx.fillStyle=this.fillColor||e.getRandomRgb(),this.ctx.fill(this.path),this.ctx.stroke(this.path),this.ctx.closePath()},i}(i.default);exports.Path=n;
},{"./CanvasItem":"ygXl","./utils":"N6d1"}],"nkB1":[function(require,module,exports) {
"use strict";var e=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./lib/Dot"),n=require("./lib/Line"),r=require("./lib/Path"),i=require("./lib/utils");function o(){var o=document.getElementById("c"),a=document.getElementById("panel"),l=document.getElementById("reset"),c=document.getElementById("random"),s=document.getElementById("cur_pos"),h=document.getElementById("angles"),d=document.getElementById("dot");l.addEventListener("click",x),c.addEventListener("click",function(){var n;x();try{n=i.arpoly([v-50,m-80],30,120,6,30)}catch(o){console.log(o),n=i.arpoly([v-50,m-80],30,120,6,30)}u=new r.Path(f,n,"yellow","black"),w=e(u.points.map(function(e){return new t.Dot(f,e[0],e[1],10,"#ccc")})),n=e(u.points),u.draw(),w.forEach(function(e,t){e.setText(String(t+1)),e.draw()})});var u,f=o.getContext("2d"),g=o.width=innerWidth,p=o.height=innerHeight-a.offsetHeight,v=o.width/2,m=o.height/2,y=[],w=[];function E(e,t,n,r){var o=i.getVector(e[0],e[1],t[0],t[1]),a=i.getVector(n[0],n[1],r[0],r[1]),l=(o[0]*a[0]+o[1]*a[1])/(Math.sqrt(o[0]*o[0]+o[1]*o[1])*Math.sqrt(a[0]*a[0]+a[1]*a[1])),c=1;return o[0]*a[1]-o[1]*a[0]>0&&(c=-1),180*Math.acos(l)/Math.PI*c}function x(){w=[],y=[],u=null,f.clearRect(0,0,g,p),s.innerText="",h.innerText=""}o.addEventListener("mousemove",function(e){d.style.top=e.clientY-5+"px",d.style.left=e.clientX-5+"px";var t=[e.clientX,e.clientY-a.offsetHeight],n=t[0],r=t[1];if(f.clearRect(g-80,p-40,g,p),f.textAlign="start",f.fillText("X: "+n+", Y: "+r,g-80,p-20),f.closePath(),u&&u.path&&u.points.length>2){var i=[n,r],o=0,l=!1;console.clear(),h.innerHTML="";for(var c=0;c<u.points.length;c++){var v=E(i,u.points[c],i,c===u.points.length-1?u.points[0]:u.points[c+1]);v>178&&v<182&&(l=!0),o+=v,h.innerHTML+=c+1+") "+Math.round(100*v)/100+"° &nbsp;"}l?(s.innerText="Точка на ребре (~"+Math.round(1e4*o)/1e4+"°)",s.style.color="orange"):Math.round(Math.abs(o))>=360?(s.innerText="Точка принадлежит полигону (~"+Math.round(1e4*o)/1e4+"°)",s.style.color="green"):(s.innerText="Точка вне полигона ("+Math.round(1e4*o)/1e4+"°)",s.style.color="red")}}),o.addEventListener("click",function(e){var i,o=[e.clientX,e.clientY-a.offsetHeight],l=o[0],c=o[1];if(!u){for(var s=1;s<w.length;s++)if(w[s].isPointInPath(l,c))return;if(f.clearRect(0,0,g,p),y.push([l,c]),w.push(new t.Dot(f,l,c,10,"#ccc")),w.length>1)for(s=0;s<w.length-1;s++){new n.Line(f,[y[s],y[s+1]],"black").draw()}(null===(i=w[0])||void 0===i?void 0:i.isPointInPath(l,c))&&(u=new r.Path(f,y,"yellow","black"),w.pop(),u.draw()),w.forEach(function(e,t){e.setText(String(t+1)),e.draw()})}}),window.onresize=function(){g=o.width=innerWidth,p=o.height=innerHeight-a.offsetTop,v=g/2,m=p/2,w.forEach(function(e){e.draw()}),u.draw()},function e(){requestAnimationFrame(e)}()}o();
},{"./lib/Dot":"a3wE","./lib/Line":"fy5Y","./lib/Path":"bUwh","./lib/utils":"N6d1"}]},{},["nkB1"], null)
//# sourceMappingURL=%27.%27/src.6ca7c278.js.map